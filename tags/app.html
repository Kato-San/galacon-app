<app>
    <header if={view=='card'} class="breadcrumbs">
        <a onclick={back}>back to app</a>
    </header>
    <section if={view=='main'} class="animated" name="menu" layout="row" layout-align="space-between start">
        <card
            card="{card}"
            onclick={select}
            class="card card-{key}"
            flex="30"
            layout="column"
            layout-align="center center"
            each={key, card in cards}
        >
            <img src="img/{key}.png" alt="">
            <footer view="card" data-is="{key}">
            </footer>
        </card>
    </section>
    <main if={view=='card'} class="animated" name="content"></main>
    <script>

        this.cards = {
            event: {title: 'Events'},
            guest: {title: 'Guests'},
            room: {title: 'Rooms'},
            vendor: {title: 'Vendor'},
            supporter: {title: 'Supporter'},
            map: {title: 'Map'},
            venue: {title: 'Venue'},
            team: {title: 'Team'},
            rules: {title: 'Rules'}
        }

        this.view = 'main'

        this.on('mount', () => {
            console.log(this)
            for (var card in this.cards) {
                riot.mount(this.cards[card])
            }

            riot.route.start(true)
            riot.route((name) => {
                if (name == 'main') {
                    this.view = 'main'
                    this.update()
                } else {
                    riot.mount(this.content, name, {view: 'full'})
                }
                //this.menu.classList.toggle('fadeOutUp')
                this.content.classList.toggle('fadeInUp')
            })
        })

        back(e) {
            this.view = 'main'
            riot.route('main')
        }

        select(e) {
            riot.route(e.item.key)
            this.view = 'card'
        }

        //Rules,

    </script>
</app>
